---
import Layout from "../../../layouts/Layout.astro";
import { NoteEditorView } from "../../../components/notes/NoteEditorView";

export const prerender = false;

// Extract note ID from URL params
const { id } = Astro.params;
const { user } = Astro.locals;

// Redirect to home if no ID
if (!id) {
  return Astro.redirect("/");
}
---

<Layout>
  <NoteEditorView client:load noteId={id} user={user || null} />
</Layout>
