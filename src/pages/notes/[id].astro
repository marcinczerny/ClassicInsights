---
import Layout from "../../layouts/Layout.astro";
import { NoteViewPage } from "../../components/notes/NoteViewPage";

export const prerender = false;

// Extract note ID from URL params
const { id } = Astro.params;
const { user } = Astro.locals;

// Redirect to home if no ID
if (!id) {
  return Astro.redirect("/");
}
---

<Layout>
  <NoteViewPage client:load noteId={id} user={user || null} />
</Layout>
