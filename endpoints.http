@baseUrl = http://localhost:3001/api

### GET all notes (default parameters)
GET {{baseUrl}}/notes

### GET notes with pagination
GET {{baseUrl}}/notes?page=2&limit=5

### GET notes with sorting
GET {{baseUrl}}/notes?sort=title&order=asc

### GET notes with search term
GET {{baseUrl}}/notes?search=your_search_term

### GET notes filtered by entities (provide comma-separated UUIDs)
GET {{baseUrl}}/notes?entities=uuid1,uuid2

### GET notes with combined parameters
GET {{baseUrl}}/notes?page=1&limit=10&sort=updated_at&order=desc&search=important

###
# @name createNote
POST {{baseUrl}}/notes
Content-Type: application/json

{
    "title": "New Note from HTTP file",
    "content": "This is the content of the new note."
}

###
# @name createNoteWithEntities
POST {{baseUrl}}/notes
Content-Type: application/json

{
    "title": "Note with Entities",
    "content": "This note should be linked to existing entities.",
    "entity_ids": [] 
}

###
# @name createNoteInvalid
POST {{baseUrl}}/notes
Content-Type: application/json

{
    "content": "This note has no title and should fail."
}

###
# @name createDuplicateNote
POST {{baseUrl}}/notes
Content-Type: application/json

{
    "title": "New Note from HTTP file"
}

###

# @name getNotes
GET {{{{baseUrl}}}}/api/notes?page=1&limit=5&sort=title&order=asc

###
# ============================================================================
# NOTE-SPECIFIC ENDPOINTS
# ============================================================================

@noteId = 38d152d0-9301-46e0-9942-74196edc277b
@entityId = 00000000-0000-0000-0000-000000000000
@anotherEntityId = 00000000-0000-0000-0000-000000000001

### GET a single note by ID
# @name getNoteById
GET {{baseUrl}}/notes/{{noteId}}

### PATCH (update) a note by ID
# @name updateNote
PATCH {{baseUrl}}/notes/{{noteId}}
Content-Type: application/json

{
    "title": "Updated Note Title via PATCH",
    "content": "This is the updated content for the note.",
    "entity_ids": ["{{entityId}}", "{{anotherEntityId}}"]
}

### PATCH (update) only the title of a note
# @name updateNoteTitle
PATCH {{baseUrl}}/notes/{{noteId}}
Content-Type: application/json

{
    "title": "Updated Note Title Only"
}

### DELETE a note by ID
# @name deleteNote
DELETE {{baseUrl}}/notes/{{noteId}}

### POST (add) an entity to a note
# @name addEntityToNote
POST {{baseUrl}}/notes/{{noteId}}/entities
Content-Type: application/json

{
    "entity_id": "{{entityId}}"
}

### DELETE an entity from a note
# @name removeEntityFromNote
DELETE {{baseUrl}}/notes/{{noteId}}/entities/{{entityId}}